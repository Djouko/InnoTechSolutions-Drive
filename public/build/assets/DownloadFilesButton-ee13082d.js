import{J as f,o as c,c as h,w as u,d as m,b as d}from"./app-4475db5a.js";import{P as w}from"./PrimaryButton-0f143ca0.js";import{h as _}from"./http-helper-398e53a1.js";const B=d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1),y={__name:"DownloadFilesButton",props:{all:{type:Boolean,required:!1,default:!1},ids:{type:Array,required:!1},sharedWithMe:!1,sharedByMe:!1},setup(i){const e=i,l=f();function p(){var n,s;if(!e.all&&e.ids.length===0)return;const t=new URLSearchParams;if((n=l.props.folder)!=null&&n.id&&t.append("parent_id",(s=l.props.folder)==null?void 0:s.id),e.all)t.append("all",e.all?1:0);else for(let o of e.ids)t.append("ids[]",o);let r=route("file.download");e.sharedWithMe?r=route("file.downloadSharedWithMe"):e.sharedByMe&&(r=route("file.downloadSharedByMe")),_(r+"?"+t.toString()).then(o=>{if(console.log(o),!o.url)return;const a=document.createElement("a");a.download=o.filename,a.href=o.url,a.click()})}return(t,r)=>(c(),h(w,{onClick:p},{default:u(()=>[B,m(" Download ")]),_:1}))}};export{y as _};
